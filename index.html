<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Ganhos</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for better scrollability */
            min-height: 100vh;
            padding: 2rem;
        }
        .container {
            background-color: #ffffff;
            padding: 2.5rem;
            border-radius: 1.5rem; /* More rounded corners */
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            max-width: 900px; /* Increased max-width */
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .input-group label {
            font-weight: 600;
            color: #334155; /* Darker text for labels */
        }
        .input-group input {
            padding: 0.75rem 1rem;
            border: 1px solid #cbd5e1; /* Light gray border */
            border-radius: 0.75rem; /* Rounded input fields */
            font-size: 1rem;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .input-group input:focus {
            outline: none;
            border-color: #3b82f6; /* Blue focus border */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); /* Light blue shadow on focus */
        }
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive grid */
            gap: 1.5rem;
        }
        .result-card {
            background-color: #eff6ff; /* Very light blue background */
            padding: 1.25rem;
            border-radius: 1rem; /* Rounded cards */
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .result-card h3 {
            font-size: 1.125rem;
            font-weight: 700;
            color: #1e40af; /* Darker blue for titles */
            margin-bottom: 0.5rem;
        }
        .result-card p {
            font-size: 1.5rem;
            font-weight: 800;
            color: #1d4ed8; /* Stronger blue for values */
        }
        .section-title {
            font-size: 1.75rem; /* Larger title */
            font-weight: 700;
            color: #1e293b; /* Dark title color */
            margin-bottom: 1.5rem;
            text-align: center;
        }
        .subsection-title {
            font-size: 1.25rem; /* Sub-section title */
            font-weight: 600;
            color: #334155;
            margin-top: 1rem;
            margin-bottom: 1rem;
            text-align: center;
            width: 100%; /* Ensure it spans full width in its grid */
            grid-column: 1 / -1; /* Make it span all columns in a grid */
        }
        .error-message {
            color: #ef4444; /* Red error message */
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-6">
    <div class="container">
        <h1 class="section-title">Calculadora de Ganhos</h1>

        <!-- Seção de Entradas -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="input-group">
                <label for="hourlyRateUSD">Taxa Horária (USD):</label>
                <input type="number" id="hourlyRateUSD" value="44" step="0.01" min="0" class="w-full">
                <p id="errorHourlyRateUSD" class="error-message hidden">Por favor, insira um número válido.</p>
            </div>
            <div class="input-group">
                <label for="annualEarningsUSD">Ganhos Anuais:</label>
                <input type="number" id="annualEarningsUSD" value="" step="0.01" min="0" class="w-full" placeholder="Opcional">
                <p id="errorAnnualEarningsUSD" class="error-message hidden">Por favor, insira um número válido.</p>
            </div>
            <div class="input-group">
                <label for="hoursPerDay">Horas por Dia:</label>
                <input type="number" id="hoursPerDay" value="8" step="0.5" min="0" class="w-full">
                <p id="errorHoursPerDay" class="error-message hidden">Por favor, insira um número válido.</p>
            </div>
            <div class="input-group">
                <label for="daysPerWeek">Dias por Semana (1-7):</label>
                <input type="number" id="daysPerWeek" value="5" step="1" min="1" max="7" class="w-full">
                <p id="errorDaysPerWeek" class="error-message hidden">Por favor, insira um número inteiro entre 1 e 7.</p>
            </div>
            <div class="input-group">
                <label for="annualEarningsEUR">Ganhos Anuais (EUR):</label>
                <input type="number" id="annualEarningsEUR" value="70000" step="0.01" min="0" class="w-full">
                <p id="errorAnnualEarningsEUR" class="error-message hidden">Por favor, insira um número válido.</p>
            </div>
            <div class="input-group">
                <label for="usdToBrlRate">Taxa de Câmbio (USD para BRL):</label>
                <input type="number" id="usdToBrlRate" value="5.58" step="0.001" min="0" class="w-full">
                <p id="errorUsdToBrlRate" class="error-message hidden">Por favor, insira um número válido.</p>
            </div>
            <div class="input-group">
                <label for="eurToBrlRate">Taxa de Câmbio (EUR para BRL):</label>
                <input type="number" id="eurToBrlRate" value="6.00" step="0.001" min="0" class="w-full">
                <p id="errorEurToBrlRate" class="error-message hidden">Por favor, insira um número válido.</p>
            </div>
        </div>

        <!-- Seção de Resultados USD -->
        <h2 class="section-title mt-8">Resultados em Dólar Americano (USD)</h2>
        <div class="results-grid">
            <div class="result-card">
                <h3>Diário</h3>
                <p id="dailyUSD">$0.00</p>
            </div>
            <div class="result-card">
                <h3>Semanal</h3>
                <p id="weeklyUSD">$0.00</p>
            </div>
            <div class="result-card">
                <h3>Mensal</h3>
                <p id="monthlyUSD">$0.00</p>
            </div>
            <div class="result-card">
                <h3>Anual</h3>
                <p id="annualUSD">$0.00</p>
            </div>
        </div>

        <!-- Seção de Resultados EUR -->
        <h2 class="section-title mt-8">Resultados em Euro (€)</h2>
        <div class="results-grid">
            <div class="result-card">
                <h3>Diário</h3>
                <p id="dailyEUR">€0.00</p>
            </div>
            <div class="result-card">
                <h3>Semanal</h3>
                <p id="weeklyEUR">€0.00</p>
            </div>
            <div class="result-card">
                <h3>Mensal</h3>
                <p id="monthlyEUR">€0.00</p>
            </div>
            <div class="result-card">
                <h3>Anual</h3>
                <p id="annualEUR">€0.00</p>
            </div>
        </div>

        <!-- Seção de Resultados BRL -->
        <h2 class="section-title mt-8">Resultados em Real Brasileiro (BRL)</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- BRL Equivalente USD -->
            <div>
                <h3 class="subsection-title">Equivalente ao Dólar Americano (USD)</h3>
                <div class="results-grid">
                    <div class="result-card">
                        <h3>Diário</h3>
                        <p id="dailyBRL_USD">R$0.00</p>
                    </div>
                    <div class="result-card">
                        <h3>Semanal</h3>
                        <p id="weeklyBRL_USD">R$0.00</p>
                    </div>
                    <div class="result-card">
                        <h3>Mensal</h3>
                        <p id="monthlyBRL_USD">R$0.00</p>
                    </div>
                    <div class="result-card">
                        <h3>Anual</h3>
                        <p id="annualBRL_USD">R$0.00</p>
                    </div>
                </div>
            </div>

            <!-- BRL Equivalente EUR -->
            <div>
                <h3 class="subsection-title">Equivalente ao Euro (€)</h3>
                <div class="results-grid">
                    <div class="result-card">
                        <h3>Diário</h3>
                        <p id="dailyBRL_EUR">R$0.00</p>
                    </div>
                    <div class="result-card">
                        <h3>Semanal</h3>
                        <p id="weeklyBRL_EUR">R$0.00</p>
                    </div>
                    <div class="result-card">
                        <h3>Mensal</h3>
                        <p id="monthlyBRL_EUR">R$0.00</p>
                    </div>
                    <div class="result-card">
                        <h3>Anual</h3>
                        <p id="annualBRL_EUR">R$0.00</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Get references to input elements
        const hourlyRateUSDInput = document.getElementById('hourlyRateUSD');
        const annualEarningsUSDInput = document.getElementById('annualEarningsUSD');
        const hoursPerDayInput = document.getElementById('hoursPerDay');
        const daysPerWeekInput = document.getElementById('daysPerWeek');
        const annualEarningsEURInput = document.getElementById('annualEarningsEUR');
        const usdToBrlRateInput = document.getElementById('usdToBrlRate');
        const eurToBrlRateInput = document.getElementById('eurToBrlRate');

        // Get references to error message elements
        const errorHourlyRateUSD = document.getElementById('errorHourlyRateUSD');
        const errorAnnualEarningsUSD = document.getElementById('errorAnnualEarningsUSD');
        const errorHoursPerDay = document.getElementById('errorHoursPerDay');
        const errorDaysPerWeek = document.getElementById('errorDaysPerWeek');
        const errorAnnualEarningsEUR = document.getElementById('errorAnnualEarningsEUR');
        const errorUsdToBrlRate = document.getElementById('errorUsdToBrlRate');
        const errorEurToBrlRate = document.getElementById('errorEurToBrlRate');

        // Constants for calculations
        const WEEKS_PER_YEAR = 52;
        const MONTHLY_WORK_DAYS = 22; // Average working days per month
        // ANNUAL_WORK_DAYS will be calculated based on hoursPerDay and daysPerWeek

        // Function to format numbers as currency
        const formatCurrency = (value, currencySymbol, locale = 'pt-BR') => {
            if (isNaN(value) || value === null || value === undefined) {
                return `${currencySymbol}0.00`;
            }
            return new Intl.NumberFormat(locale, {
                style: 'currency',
                currency: currencySymbol === '$' ? 'USD' : (currencySymbol === '€' ? 'EUR' : 'BRL')
            }).format(value);
        };

        // Function to validate input and show/hide error messages
        const validateInput = (inputElement, errorElement, min = 0, max = Infinity, isInteger = false) => {
            const value = inputElement.value.trim();

            // Allow empty string for optional fields, but validate if a value is present
            if (value === '') {
                errorElement.classList.add('hidden');
                return true; // Consider empty optional fields as valid for now
            }

            const parsedValue = parseFloat(value);

            if (isNaN(parsedValue) || parsedValue < min || parsedValue > max || (isInteger && parsedValue % 1 !== 0)) {
                errorElement.classList.remove('hidden');
                return false;
            } else {
                errorElement.classList.add('hidden');
                return true;
            }
        };

        // Main calculation function
        const calculateEarnings = () => {
            // Validate all inputs
            const isValidHoursPerDay = validateInput(hoursPerDayInput, errorHoursPerDay);
            const isValidDaysPerWeek = validateInput(daysPerWeekInput, errorDaysPerWeek, 1, 7, true); // Days per week 1-7, integer
            const isValidAnnualEarningsEUR = validateInput(annualEarningsEURInput, errorAnnualEarningsEUR);
            const isValidUsdToBrlRate = validateInput(usdToBrlRateInput, errorUsdToBrlRate);
            const isValidEurToBrlRate = validateInput(eurToBrlRateInput, errorEurToBrlRate);

            // Get parsed values, defaulting to 0 if invalid or empty
            const hoursPerDay = isValidHoursPerDay ? parseFloat(hoursPerDayInput.value) : 0;
            const daysPerWeek = isValidDaysPerWeek ? parseInt(daysPerWeekInput.value) : 0;
            const annualEarningsEUR = isValidAnnualEarningsEUR ? parseFloat(annualEarningsEURInput.value) : 0;
            const usdToBrlRate = isValidUsdToBrlRate ? parseFloat(usdToBrlRateInput.value) : 0;
            const eurToBrlRate = isValidEurToBrlRate ? parseFloat(eurToBrlRateInput.value) : 0;

            // Calculate ANNUAL_WORK_DAYS based on current inputs
            const ANNUAL_WORK_DAYS = daysPerWeek * WEEKS_PER_YEAR;

            // --- Determine USD source of truth and calculate ---
            let baseHourlyRateUSD = null;
            let baseAnnualUSD = null;

            // Check if hourly rate is provided and valid
            const isHourlyRateUSDProvided = hourlyRateUSDInput.value.trim() !== '' && validateInput(hourlyRateUSDInput, errorHourlyRateUSD);
            // Check if annual earnings USD is provided and valid
            const isAnnualEarningsUSDProvided = annualEarningsUSDInput.value.trim() !== '' && validateInput(annualEarningsUSDInput, errorAnnualEarningsUSD);

            if (isHourlyRateUSDProvided) {
                baseHourlyRateUSD = parseFloat(hourlyRateUSDInput.value);
                // Calculate annual from hourly
                if (hoursPerDay > 0 && daysPerWeek > 0) {
                    baseAnnualUSD = baseHourlyRateUSD * hoursPerDay * daysPerWeek * WEEKS_PER_YEAR;
                    // Update annual earnings input field
                    annualEarningsUSDInput.value = baseAnnualUSD.toFixed(2);
                } else {
                    baseAnnualUSD = 0;
                    annualEarningsUSDInput.value = ''; // Clear if cannot calculate
                }
            } else if (isAnnualEarningsUSDProvided) {
                baseAnnualUSD = parseFloat(annualEarningsUSDInput.value);
                // Calculate hourly from annual
                if (hoursPerDay > 0 && daysPerWeek > 0 && ANNUAL_WORK_DAYS > 0) {
                    baseHourlyRateUSD = baseAnnualUSD / (hoursPerDay * ANNUAL_WORK_DAYS);
                    // Update hourly rate input field
                    hourlyRateUSDInput.value = baseHourlyRateUSD.toFixed(2);
                } else {
                    baseHourlyRateUSD = 0;
                    hourlyRateUSDInput.value = ''; // Clear if cannot calculate
                }
            } else {
                // Both are empty or invalid, clear both and set results to 0
                hourlyRateUSDInput.value = '';
                annualEarningsUSDInput.value = '';
            }

            // --- Final USD Calculations ---
            let finalDailyUSD = 0, finalWeeklyUSD = 0, finalMonthlyUSD = 0, finalAnnualUSD = 0;

            if (baseHourlyRateUSD !== null && baseHourlyRateUSD > 0 && hoursPerDay > 0 && daysPerWeek > 0) {
                finalDailyUSD = baseHourlyRateUSD * hoursPerDay;
                finalWeeklyUSD = finalDailyUSD * daysPerWeek;
                finalMonthlyUSD = finalDailyUSD * MONTHLY_WORK_DAYS;
                finalAnnualUSD = finalWeeklyUSD * WEEKS_PER_YEAR;
            } else if (baseAnnualUSD !== null && baseAnnualUSD > 0) { // Fallback if hourly could not be derived but annual is present
                finalAnnualUSD = baseAnnualUSD;
                finalWeeklyUSD = finalAnnualUSD / WEEKS_PER_YEAR;
                finalDailyUSD = finalWeeklyUSD / daysPerWeek; // This might be 0 if daysPerWeek is 0
                finalMonthlyUSD = finalDailyUSD * MONTHLY_WORK_DAYS;
            }

            document.getElementById('dailyUSD').textContent = formatCurrency(finalDailyUSD, '$');
            document.getElementById('weeklyUSD').textContent = formatCurrency(finalWeeklyUSD, '$');
            document.getElementById('monthlyUSD').textContent = formatCurrency(finalMonthlyUSD, '$');
            document.getElementById('annualUSD').textContent = formatCurrency(finalAnnualUSD, '$');

            // --- Calculate EUR Earnings ---
            let finalDailyEUR = 0, finalWeeklyEUR = 0, finalMonthlyEUR = 0, finalAnnualEUR = 0;
            if (annualEarningsEUR > 0 && hoursPerDay > 0 && daysPerWeek > 0) {
                finalAnnualEUR = annualEarningsEUR;
                finalMonthlyEUR = finalAnnualEUR / 12;
                finalWeeklyEUR = finalAnnualEUR / WEEKS_PER_YEAR;
                if (ANNUAL_WORK_DAYS > 0) {
                    finalDailyEUR = finalAnnualEUR / ANNUAL_WORK_DAYS;
                }
            }

            document.getElementById('dailyEUR').textContent = formatCurrency(finalDailyEUR, '€');
            document.getElementById('weeklyEUR').textContent = formatCurrency(finalWeeklyEUR, '€');
            document.getElementById('monthlyEUR').textContent = formatCurrency(finalMonthlyEUR, '€');
            document.getElementById('annualEUR').textContent = formatCurrency(finalAnnualEUR, '€');

            // --- Calculate BRL Earnings (from USD) ---
            document.getElementById('dailyBRL_USD').textContent = formatCurrency(finalDailyUSD * usdToBrlRate, 'R$');
            document.getElementById('weeklyBRL_USD').textContent = formatCurrency(finalWeeklyUSD * usdToBrlRate, 'R$');
            document.getElementById('monthlyBRL_USD').textContent = formatCurrency(finalMonthlyUSD * usdToBrlRate, 'R$');
            document.getElementById('annualBRL_USD').textContent = formatCurrency(finalAnnualUSD * usdToBrlRate, 'R$');

            // --- Calculate BRL Earnings (from EUR) ---
            document.getElementById('dailyBRL_EUR').textContent = formatCurrency(finalDailyEUR * eurToBrlRate, 'R$');
            document.getElementById('weeklyBRL_EUR').textContent = formatCurrency(finalWeeklyEUR * eurToBrlRate, 'R$');
            document.getElementById('monthlyBRL_EUR').textContent = formatCurrency(finalMonthlyEUR * eurToBrlRate, 'R$');
            document.getElementById('annualBRL_EUR').textContent = formatCurrency(finalAnnualEUR * eurToBrlRate, 'R$');
        };

        // Add event listeners to all input fields
        hourlyRateUSDInput.addEventListener('input', () => {
            // Clear annual earnings when hourly rate is edited
            annualEarningsUSDInput.value = '';
            calculateEarnings();
        });
        annualEarningsUSDInput.addEventListener('input', () => {
            // Clear hourly rate when annual earnings is edited
            hourlyRateUSDInput.value = '';
            calculateEarnings();
        });
        hoursPerDayInput.addEventListener('input', calculateEarnings);
        daysPerWeekInput.addEventListener('input', calculateEarnings);
        annualEarningsEURInput.addEventListener('input', calculateEarnings);
        usdToBrlRateInput.addEventListener('input', calculateEarnings);
        eurToBrlRateInput.addEventListener('input', calculateEarnings);

        // Initial calculation on page load
        document.addEventListener('DOMContentLoaded', calculateEarnings);
    </script>
</body>
</html>
